{% extends "base.html" %}
{% load static %}


{% block title %}Shelf{% endblock %}

{% block css_file %}
    <link rel="stylesheet" type="text/css" href="{% static 'books/display.css' %}">
{% endblock  %}

{% block content %}

<!--<form method="GET" action="{% url 'books:searched-page' %}">
    {% csrf_token %}
    <input type="search" name="q" placeholder="Search books">
    <button type="submit">Search</button>
</form>-->
<form method="GET" action="{% url 'books:searched-page' %}" style="margin-top: 20px; border-radius: 50px;">

    {% csrf_token %}
    
    <input type="search" name="q" placeholder="Search books" style="padding: 8px; width: 200px; border: 1px solid #ccc; border-radius: 50px;">

    <button type="submit" style="padding: 8px 16px; background-color: #e43c5c; color: #fff; border: none; cursor: pointer; border-radius: 50px;">
        Search
    </button>

</form>

{% if messages %}
      <div style="margin-top: 20px; padding: 10px; border: 1px solid #ccc; border-radius: 10px; background-color: #f5f5f5;">
          {% for message in messages %}
              <pre>{{ message }}</pre>
          {% endfor %}
      </div>
      {% endif %}

<section id="services" class="services">
    <div class="container">

      {% for book in books %}
        <div class="row">     
            <div class="col-md-6 col-lg-3 d-flex align-items-stretch mb-5 mb-lg-0">
                <div class="icon-box">
                    <div class="icon"><i class="bx bx-world"></i></div>
                        
                           <h4 class="title"> <a href="{% url 'books:book-details' pk=book.pk %}">
                                <p><img src="{{book.image.url}}" width ='150' height ='200'></p>
                                <h5 class="description" >{{ book.title }}</h5>
                            </a> 
                            </h4>
                        
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    

    </div>
</section><!-- End Services Section -->

   
   
   <!-- Pagination links -->
   <div class="pagination">
       <span class="step-links">
           {% if books.has_previous %}
               <a href="?page=1{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">&laquo; first</a>
               <a href="?page={{ books.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">previous</a>
           {% endif %}
   
           <span class="current">
               Page {{ books.number }} of {{ books.paginator.num_pages }}.
           </span>
   
           {% if books.has_next %}
               <a href="?page={{ books.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">next</a>
               <a href="?page={{ books.paginator.num_pages }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">last &raquo;</a>
           {% endif %}
       </span>
   </div>



{% endblock %}
